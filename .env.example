# ============================================
# Screen Agent Platform - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# cp .env.example .env.local
#
# DO NOT commit .env.local to version control

# ============================================
# Required Variables
# ============================================

# Database (MongoDB)
# MongoDB connection string (required for production)
# Format: mongodb://username:password@host:port/database
# Or: mongodb+srv://username:password@cluster.mongodb.net/database
# Create a cluster at: https://cloud.mongodb.com
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority

# Better Auth Configuration
# Secret key for Better Auth (REQUIRED - minimum 32 characters)
# Generate a secure random string: openssl rand -base64 32
BETTER_AUTH_SECRET=your-32-character-secret-here-minimum-32-chars

# Base URL for your application (REQUIRED)
# Development: http://localhost:3000
# Production: https://yourdomain.com
BETTER_AUTH_URL=http://localhost:3000

# Public Application URL
# Used for generating absolute URLs in the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Optional Variables
# ============================================

# Build Configuration
# Set to "true" to enable bundle analysis
ANALYZE=false

# ============================================
# Redis (Job Queues)
# ============================================
# Redis connection URL for BullMQ job queues
# Format: redis://host:port or redis://username:password@host:port
# Local: redis://localhost:6379
# Docker Compose provides this automatically via redis service
REDIS_URL=redis://localhost:6379

# ============================================
# Google OAuth (Optional)
# ============================================
# Get these from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
# See docs/DEVELOPMENT.md for detailed setup instructions
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================
# Email Configuration (Resend)
# ============================================
# Resend API key for sending transactional emails
# Sign up at: https://resend.com
RESEND_API_KEY=re_xxxxx
EMAIL_FROM=noreply@yourdomain.com

# ============================================
# File Uploads (Uploadthing)
# ============================================
# Uploadthing API token for file uploads
# Sign up at: https://uploadthing.com
UPLOADTHING_TOKEN=sk_live_xxxxx

# ============================================
# AI Agent Configuration
# ============================================
# OpenAI API key for AI features
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxx

# Anthropic API key for Claude models
# Get from: https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-xxxxx

# Tavily API key for web search
# Get from: https://tavily.com
TAVILY_API_KEY=tvly-xxxxx

# ============================================
# Web Search API (Task 1 - Optional)
# ============================================
# Tavily API (AI-native, domain-restricted search)
# Get API key: https://tavily.com/
# Note: Search results are automatically restricted to the domain from the API call URL
# Web search is optional - tasks will work without it
TAVILY_API_KEY=your_tavily_api_key_here

# ============================================
# Organization Settings
# ============================================
# Maximum number of organizations per user
ORGANIZATION_LIMIT=5

# Maximum number of members per organization
MEMBERSHIP_LIMIT=100

# ============================================
# Stripe Billing
# ============================================
# Stripe secret key for payment processing
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxx

# Stripe webhook secret for verifying webhook signatures
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# Stripe Price IDs for subscription tiers
# Create products and prices in Stripe Dashboard
STRIPE_PRICE_ID_FREE=price_xxxxx
STRIPE_PRICE_ID_PRO=price_xxxxx
STRIPE_PRICE_ID_ENTERPRISE=price_xxxxx

# ============================================
# PostHog Analytics (Optional)
# ============================================
# PostHog API key for product analytics
# Sign up at: https://posthog.com
NEXT_PUBLIC_POSTHOG_KEY=ph_xxxxx
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ============================================
# Sentry Error Tracking (Optional)
# ============================================
# Sentry DSN for error tracking and monitoring
# Sign up at: https://sentry.io
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Sentry auth token for releases and source maps
# Get from: https://sentry.io/settings/account/api/auth-tokens/
SENTRY_AUTH_TOKEN=xxxxx

# ============================================
# Feature Flags (Optional)
# ============================================
# Enable feature flags system
FEATURE_FLAGS_ENABLED=false

# ============================================
# Prisma Logging (Optional)
# ============================================
# Enable Prisma query logging (development only)
# Set to "true" to log all database queries
PRISMA_LOG_QUERIES=false

# ============================================
# Browser Automation Service (Optional)
# ============================================
# URL for the browser automation service
# Used for knowledge extraction and screen automation
# Development: http://localhost:8000
# Production: https://browser-automation.yourdomain.com
BROWSER_AUTOMATION_SERVICE_URL=http://localhost:8000

# ============================================
# S3 File Storage (Optional)
# ============================================
# S3-compatible storage for file uploads (knowledge extraction assets)
# Supports AWS S3 and DigitalOcean Spaces

# Provider: "aws" for AWS S3, "digitalocean" for DigitalOcean Spaces


# S3 bucket name
S3_BUCKET=your-bucket-name

# S3 endpoint (required for DigitalOcean Spaces, optional for AWS)
# DigitalOcean: https://nyc3.digitaloceanspaces.com
# AWS: Leave empty or use region-specific endpoint
S3_ENDPOINT=https://nyc3.digitaloceanspaces.com

# S3 access key ID
S3_ACCESS_KEY_ID=your-access-key-id

# S3 secret access key
S3_SECRET_ACCESS_KEY=your-secret-access-key

# ============================================
# Notes
# ============================================
# - All variables marked as "Optional" can be omitted for basic functionality
# - Required variables must be set for the application to run
# - See docs/DEVELOPMENT.md for detailed setup instructions
# - See docs/ARCHITECTURE.md for system architecture details

# S3 Provider is automatically determined by NODE_ENV:
# - NODE_ENV=development → uses DigitalOcean Spaces
# - NODE_ENV=production → uses AWS S3

# S3 Region is automatically derived:
# - DigitalOcean: extracted from endpoint (e.g., nyc3 from https://nyc3.digitaloceanspaces.com)
# - AWS: defaults to us-east-1
# You can override by explicitly setting S3_REGION=your-region
